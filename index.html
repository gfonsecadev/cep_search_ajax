<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<title>Consulte seu CEP</title>


	<script type="text/javascript">
		function buscarCep(cep){
			let urlCep=`https://viacep.com.br/ws/${cep}/json/`;
			let cep_xhtml=new XMLHttpRequest();
			cep_xhtml.open('get', urlCep);
			
			cep_xhtml.onreadystatechange=()=>{
				if (cep_xhtml.readyState==4 && cep_xhtml.status==200) {
					let cepObj=JSON.parse(cep_xhtml.responseText);
					if(cepObj.erro==undefined){
						document.getElementById('endereco').value=cepObj.logradouro;
						document.getElementById('bairro').value=cepObj.bairro;
						document.getElementById('cidade').value=cepObj.localidade;
						document.getElementById('uf').value=cepObj.uf;
					}else{
						document.getElementById('endereco').value="endereco não encontrado";
						document.getElementById('bairro').value="bairro não encontrado";
						document.getElementById('cidade').value="cidade não encontrada";
						document.getElementById('uf').value="estado não encontrado";
					}
					console.log(cepObj)
				}else{
					
				}
			}

			cep_xhtml.send();

			
		}
	</script>
</head>
<body>


	<nav class="navbar navbar-light bg-light py-3">
		<div class="container">
			<div class="navbar-brand"><h1>App consulta de endereço</h1></div>
		</div>
	</nav>

	<div class="container mt-5">
		
			

			<div class="row form-group">
				<div class="col-3">
					<input class="form-control"type="number" id="cep" placeholder="CEP" onblur="buscarCep(this.value)">
				</div>
				<div class="col-9">
					<input class="form-control bg-light"type="text" id="endereco" placeholder="ENDEREÇO" readonly >
				</div>
			</div>

			<div class="row form-group mt-2">
				<div class="col-5">
					<input class="form-control bg-light"type="text" id="bairro" placeholder="BAIRRO" readonly >
				</div>
				<div class="col-4">
					<input class="form-control bg-light"type="text" id="cidade" placeholder="CIDADE" readonly >
				</div>
				<div class="col-3">
					<input class="form-control bg-light"type="text" id="uf" placeholder="UF" readonly >
				</div>
			</div>

			
			
	
	</div>

</body>
</html>